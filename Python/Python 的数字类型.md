#Python #数字类型

# Python 的数字类型

1. 对于多数实数，计算机都无法精确储存。因此造成了误差。在计算机解决实际问题时，要考虑上述误差的积累；
2. Python 语言用整数类型来表示数学上的整数，用浮点数类型来表示数学上的实数（整数除外）。
3. 在计算机中，储存数据使用 **二进制数**，计算机会把你输入的数据转换为二进制，然后在内存中存储。

## Python 的三种数字类型

Python 有三种数字类型：整数、浮点数和复数。

## Python 的整数

1. Python 的整数长度是不受限制的；
2. Python 的除法就算能被整除，也会产生附带小数的结果；
3. 小数在 Python 中是以浮点数的形式存放的。

## Python 的浮点数

如上所述，在计算机中，储存数据使用 **二进制数**，而在部分情况，将非二进制小数转换成二进制小数会导致数据过长，而 Python 的浮点数有 53 位可用精度，这就导致了 Python 的浮点数存在一定的误差。

浮点数是可以与整数比较的，但是不能与字符串或者字符比较。

### Python 的浮点数的误差

#### 例子：将十进制小鼠转换为二进制小数的过程。

以 0.1 为例：

0.0001100110011001100110011001100110011001100110011...

十进制的小数 0.1 转换为二进制小数后是无限的，而在 Python 中，浮点数有 53 位可用的精度，因此，十进制的 0.1 在内部储存中储存的值，是二进制小数的近似替代值，它并不是精确的。

#### 解决浮点数误差的方法

Python 中的 decimal 模块可以解决浮点数的误差。在 decimal 模块中，可以通过整数、字符串、浮点数或元组构建 decimal.Decimal 对象。

如果值是浮点数，因为浮点数本身存在误差，需要先将浮点数转换为字符串，才能使结果准确。

## Python 的复数

Python 中的复数是以浮点数的形式存放的。分为实部和虚部。 

###  如何获取复数的实部与虚部

可以通过复数对象的 **属性** 来获取实部与虚部。

例如：

```Python
x = complex(1, 1) # complex() 函数可以用来创建复数。
print('实部', x.real)
print('虚部', x.imag)
```

## Python 的数字之间的运算

![Python 之间的数字运算的示意图](http://tg.owo233.eu.org:8080/245/photo-2023-11-07_16-28-53.jpg?hash=a920f7)

### 地板除（//）

x 除以 y 的向下取整的结果。不管是真除法，还是地板除，都不能使用 0 为参数，0 为参数是没有意义的。

例如：-3 // 2 = -2 

###  取余数（%）

x 除以 y 的余数。

例如：3 % 2 = 1

> 由地板除和取余数两个操作可以得出公式：
> **x == (x // y) * y + (x % y)**

### Python 内置函数（BIF） divmod()

divmod() 的作用就是同时求出两个数地板出的结果和余数的值。

例如：

```Python
divmod(3, 2)
# 输出：(1, 1)。
divmod(-3, 2)
# 输出：(-2, 1)。
```

### Python 的内置函数（BIF）abs()

 abs() 的作用数返回指定数值的绝对值。

例如：

```Python
x = -250
print(abs(x))
# 输出：250。
```

输入 abs() 内的值为复数，则会输出输入复数的模。

> 复数如何求模： 将复数的实部与虚部的平方和的正的平方根的值称为该复数
> 的模。
> 如果有一个复数为 x +yj则可以得到以下求模公式：
> (x ** 2 + y ** 2) ** 0.5 # “x**y” 是指计算 x 的 y 次方。

### Python 的内置函数（BIF）int()、float()、complex()

int() 的作用是将指定的值转换为整数。

例如：

```Python
int(9.99)
# 输出：9。
```

float() 的作用是将指定的值转换为浮点数，而 complex() 的作用则是将指定的值转换为复数。

例如：

```Python
print(float('3.14'))
# 输出：3.14。

print(float(520))
# 输出：520.0。

print(complex('1+2j'))
# 输出：(1+2j)
# 使用 complex() 转换字符串为复数的话，**中间不能有空格，前后可以带空格。**
```

### Python 的内置函数（BIF）pow()，以及幂运算符（**）

通常情况下，pow(x, y) 以及幂运算符（x ** y）的实现的效果是等价的，都是得到 x 的 y 次方，但是 pow() 可以导入第三个参。

如果导入第三个参数，那么 pow() 函数，将先计算前两个参数的结果，然后将前两个参数的结果与第三个参数进行取余运算。

例如：

```Python 
pow(2, 3, 5)
# 输出：3。相当于 2 ** 3 % 5。
```

## 函数的基本概念

函数相当于一个工厂，我需要需要输入传入函数的参数， 输入则是函数的返回值即运行的结果。使得程序的编写更加简单，结构更加简洁明了。

## 实例

### 模拟抛硬币实验

编写一个模拟抛硬币的程序，可以输入数字来设置抛硬币的次数，并且输出抛硬币的结果。

```Python
# 此程序用来模拟抛硬币。

import random
# 提前声明变量。
i = 0 
x = 0
y = 0
z = 0
# 此循环用来判断输入的整数是否一致以及输入的数据是否为整数。
while True:
        x = input("请输入一个整数：")
        z = input('请再次输入这个整数：')
        if z == x:
            break
        else:
            print('您的两次输入不一致。')
    z = str(abs(int(x)))
    if z.isdigit():
        break
    else:
        print('您需要输入一个整数。')
# 因为 input 获取的数据为字符串，所以需要重新转换数据为整数。
x = int(x)
z = int(z)
# 模拟抛硬币并且输出结果。
while y < x:
    y = y + 1
    i = random.randint(1, 2)
    if i == 1:
        print("正面\n")
    else:
        print("反面\n")
```

### 只使用 int() 函数完成四舍五入的操作

思路：因为 int() 函数是直接舍去小数，不管是 0.4 还是 0.5 都会直接被舍去，所以可以直接给小数加上 0.5 来达到四舍五入的效果。

### 输入一个整数，然后输出比这个数到 0 之内的所有偶数的和

```Python
i = 0
x = ''
z = ''

while True:
    while True:
        x = input("请输入一个整数：")
        z = input('请再次输入这个整数：')
        if z == x:
            break
        else:
            print('您的两次输入不一致。')
    z = str(abs(int(x)))
    if z.isdigit():
        break
    else:
        print('您需要输入一个整数。')

x = int(x)
z = 0

if x >= 0:
    while i <= x:
        if i % 2 == 0:
            z = i + z
        i = i + 1
else:
    while i >= x:
        if i % 2 == 0:
            z = i + z
        i = i - 1

print(z)
```